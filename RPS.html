<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Rock Paper Scissors</title>
</head>

<body>


    <script>
        let result = '';
        let playerResult = 0;
        let computerResult = 0;

        //generates a random number between 1 and 3 inclusive, later assigned to computerChoice
        function getRandomInt(min, max) {
            //The maximum is exclusive and the minimum is inclusive(use 1, 4)
            return Math.floor(Math.random() * (max - min)) + min;
        }
        //Take randomInt and generates computerChoice of Rock Paper or scissor
        function computerPlay() {
            let computerChoice = getRandomInt(1, 4);
            switch (computerChoice) {
                case 1:
                    return 'rock';
                    break;
                case 2:
                    return 'paper';
                case 3:
                    return 'scissors';
                    break;
            }
        }

        //Sets the cases for win and lose based on playerSelection
        function playRound(playerSelection, computerSelection) {
            switch (playerSelection) {
                case 'rock':
                    switch (computerSelection) {
                        case 'rock':
                            result = 'tie';
                            return 'You tied! Try again';
                            break;
                        case 'paper':
                            result = 'lose';
                            return 'You lose! Paper beats rock!';
                            break;
                        case 'scissors':
                            result = 'win';
                            return 'You win! Rock beats scissors!'
                            break;
                    }
                    break;
                case 'paper':
                    switch (computerSelection) {
                        case 'rock':
                            result = 'win';
                            return 'You win! Paper beats rock!';
                            break;
                        case 'paper':
                            result = 'tie';
                            return 'You tied! Try again';
                            break;
                        case 'scissors':
                            result = 'lose';
                            return 'You lose! Scissors beats paper!'
                            break;
                    }
                    break;
                case 'scissors':
                    switch (computerSelection) {
                        case 'rock':
                            result = 'lose';
                            return 'You lose! Rock beats scissors!';
                            break;
                        case 'paper':
                            result = 'win';
                            return 'You win! Scissors beats paper!';
                            break;
                        case 'scissors':
                            result = 'tie';
                            return 'You tied! Try again'
                            break;
                    }
                    break;
            }
        }

        //General game play
        function game() {
            let rounds = 5;
            for (var i = 0; i < rounds; i++) {
                //prompt player for choice, sets player selection
                let playerSelection = prompt("So what's your choice!? Rock, Paper or Scissors?").toLowerCase();
                //sets computerSelection for current round
                let computerSelection = computerPlay();

                console.log('computer is ' + computerSelection + " You are " + playerSelection);
                console.log(playRound(playerSelection, computerSelection));

                //Scores results of each round, tie is left out
                if (result == 'win') {
                    playerResult++;
                } else if (result == 'lose') {
                    computerResult++
                }
                console.log("You have " + playerResult + " points");
                console.log("Computer has " + computerResult + " points");
            }
            //Tally results and displays a winner
            (playerResult > computerResult) ? alert('You Won!!!!'): alert("You Lost, Train to get better!!");
        }
        game();
    </script>
</body>

</html>